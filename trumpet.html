<!DOCTYPE html>
<html lang="fr">
  <head>
  </head>
  <body tabindex="0" onkeydown="return keydown(event)"  onkeyup="return keyup(event)">
      <script src="player.js"></script>
      <script src="trumpet.js"></script>
      <script src="notes.js"></script>
      <script>
       var keys = new Map()

       function keydown(e) {
         keys.set(e.key, true)
       }

       function keyup(e) {
         keys.delete(e.key)
       }

       var player = new Player()
       var trumpet = new Trumpet()

       function updatePlay() {
         var note = trumpet.note(keys)

         if (note == 0) {
           player.stop()
         } else {
           player.play(note)
         }
       }

       setInterval(updatePlay, 10)
      </script>
  </body>
</html>
